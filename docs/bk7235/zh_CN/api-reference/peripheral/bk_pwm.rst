PWM
================

:link_to_translation:`en:[English]`

PWM API Status
------------------

+----------------------------------------------+---------+---------+--------+
| API                                          | BK7235A | BK7235B | BK7235 |
+==============================================+=========+=========+========+
| :cpp:func:`bk_pwm_driver_init`               | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+
| :cpp:func:`bk_pwm_driver_deinit`             | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+
| :cpp:func:`bk_pwm_init`                      | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+
| :cpp:func:`bk_pwm_deinit`                    | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+
| :cpp:func:`bk_pwm_set_duty_period`           | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+
| :cpp:func:`bk_pwm_start`                     | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+
| :cpp:func:`bk_pwm_stop`                      | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+
| :cpp:func:`bk_pwm_set_init_signal_low`       | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+
| :cpp:func:`bk_pwm_set_init_signal_high`      | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+
| :cpp:func:`bk_pwm_register_isr`              | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+
| :cpp:func:`bk_pwm_enable_interrupt`          | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+
| :cpp:func:`bk_pwm_disable_interrupt`         | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+
| :cpp:func:`bk_pwm_group_init`                | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+
| :cpp:func:`bk_pwm_group_deinit`              | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+
| :cpp:func:`bk_pwm_group_start`               | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+
| :cpp:func:`bk_pwm_group_stop`                | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+
| :cpp:func:`bk_pwm_capture_init`              | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+
| :cpp:func:`bk_pwm_capture_deinit`            | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+
| :cpp:func:`bk_pwm_capture_start`             | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+
| :cpp:func:`bk_pwm_capture_stop`              | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+
| :cpp:func:`bk_pwm_capture_get_value`         | Y       | Y       | Y      |
+----------------------------------------------+---------+---------+--------+


PWM Channel Number
------------------------

+----------------+---------+---------+--------+
| Capability     | BK7235A | BK7235B | BK7235 |
+================+=========+=========+========+
| Channel Number | 10      | 10      | 10     |
+----------------+---------+---------+--------+

PWM Group Support
-------------------------

+----------------+---------+---------+--------+
| Capability     | BK7235A | BK7235B | BK7235 |
+================+=========+=========+========+
| Software Group | Y       | Y       | Y      |
+----------------+---------+---------+--------+
| Hardware Group | Y       | Y       | Y      |
+----------------+---------+---------+--------+


PWM Duty Support
-------------------------

+-------------------+---------+---------+--------+
| Capability        | BK7235A | BK7235B | BK7235 |
+===================+=========+=========+========+
| period_cycle      | Y       | Y       | Y      |
+-------------------+---------+---------+--------+
| duty_cycle        | Y       | Y       | Y      |
+-------------------+---------+---------+--------+
| duty2_cycle       | Y       | Y       | Y      |
+-------------------+---------+---------+--------+
| duty3_cycle       | Y       | Y       | Y      |
+-------------------+---------+---------+--------+

For unsupported duty fileds, we should set them to 0.

PWM Capture Edge Support Status
--------------------------------

+-------------------+---------+---------+--------+
| Capability        | BK7235A | BK7235B | BK7235 |
+===================+=========+=========+========+
| PWM_CAPTURE_POS   | Y       | Y       | Y      |
+-------------------+---------+---------+--------+
| PWM_CAPTURE_NEG   | Y       | Y       | Y      |
+-------------------+---------+---------+--------+
| PWM_CAPTURE_EDGE  | Y       | Y       | Y      |
+-------------------+---------+---------+--------+

PWM Channel and GPIO Map
---------------------------------

+-------------------+---------+---------+--------+
| Channel Number    | BK7235A | BK7235B | BK7235 |
+===================+=========+=========+========+
| 0                 | 8       | 8       | 8      |
+-------------------+---------+---------+--------+
| 1                 | 9       | 9       | 9      |
+-------------------+---------+---------+--------+
| 2                 | 24      | 24      | 24     |
+-------------------+---------+---------+--------+
| 3                 | 25      | 25      | 25     |
+-------------------+---------+---------+--------+
| 4                 | 32      | 32      | 32     |
+-------------------+---------+---------+--------+
| 5                 | 33      | 33      | 33     |
+-------------------+---------+---------+--------+
| 6                 | 34      | 34      | 34     |
+-------------------+---------+---------+--------+
| 7                 | 35      | 35      | 35     |
+-------------------+---------+---------+--------+
| 8                 | 36      | 36      | 36     |
+-------------------+---------+---------+--------+
| 9                 | 37      | 37      | 37     |
+-------------------+---------+---------+--------+


If the channel has more than one GPIO to map, the channel init API will choose the smallest GPIO port as the default
value. We can call bk_pwm_set_gpio() to change it after the init API is called.

PWM API Reference
---------------------

.. include:: ../../_build/inc/pwm.inc

PWM API Typedefs
---------------------
.. include:: ../../_build/inc/pwm_types.inc
.. include:: ../../_build/inc/hal_pwm_types.inc


