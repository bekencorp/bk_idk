AB分区位置无关升级原理
+++++++++++++++++++++++++++++++++

:link_to_translation:`en:[English]`

 - 当APP(应用程序)运行在A分区并进行OTA（Over-the-AirTechnology）升级时，
    - 根据分区表将升级固件从服务器下载分区B，下载成功之后,进行reboot。
    - 然后，bootloader进行hash验证来数据的准确性，若数据没问题，则设置jump跳转地址为A区起始地址且设置flash相关控制寄存器bit位值为1，则运行到B分区；(当升级完第一次启动后，运行到app中客户没有进行执行分区B确认的话，下次启动会返回到分区A)
    - 否则，则设置jump跳转地址为A区起始地址且设置flash相关控制寄存器bit位值为0，还是运行在A分区。

 - 当APP运行在B分区并进行OTA升级时，
     - 即从服务器下载镜像A，下载镜像完成之后进行reboot。
     - 然后，bootloader进行hash来验证数据的准确性，则设置jump跳转地址为A区起始地址且设置flash相关控制寄存器bit位值为0，则运行到A分区；(当升级完第一次启动后，运行到app中客户没有进行执行分区A确认的话，下次启动会返回到分区B)
     - 否则，则设置jump跳转地址为A区起始地址且设置flash相关控制寄存器bit位值为1，还是运行在B分区。

